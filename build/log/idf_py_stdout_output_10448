Command: ninja all
[1/9] Performing build step for 'bootloader'
[1/1] C:\WINDOWS\system32\cmd.exe /C "cd /D C:\Users\gs75\Desktop\xiaozhi_new\yxt_code\build\bootloader\esp-idf\esptool_py && C:\Espressif\python_env\idf5.5_py3.11_env\Scripts\python.exe C:/Espressif/frameworks/esp-idf-v5.5.2/components/partition_table/check_sizes.py --offset 0x8000 bootloader 0x0 C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/build/bootloader/bootloader.bin"
Bootloader binary size 0x4050 bytes. 0x3fb0 bytes (50%) free.
[2/9] No install step for 'bootloader'
[3/9] Completed 'bootloader'
[4/9] Building CXX object esp-idf/78__esp-wifi-connect/CMakeFiles/__idf_78__esp-wifi-connect.dir/wifi_station.cc.obj
FAILED: esp-idf/78__esp-wifi-connect/CMakeFiles/__idf_78__esp-wifi-connect.dir/wifi_station.cc.obj 
ccache C:\Espressif\tools\xtensa-esp-elf\esp-14.2.0_20251107\xtensa-esp-elf\bin\xtensa-esp32s3-elf-g++.exe -DESP_PLATFORM -DIDF_VER=\"v5.5.2\" -DSOC_MMU_PAGE_SIZE=CONFIG_MMU_PAGE_SIZE -DSOC_XTAL_FREQ_MHZ=CONFIG_XTAL_FREQ -D_GLIBCXX_HAVE_POSIX_SEMAPHORE -D_GLIBCXX_USE_POSIX_SEMAPHORE -D_GNU_SOURCE -D_POSIX_READER_WRITER_LOCKS -IC:/Users/gs75/Desktop/xiaozhi_new/yxt_code/build/config -IC:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/newlib/platform_include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/freertos/config/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/freertos/config/include/freertos -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/freertos/config/xtensa/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/freertos/FreeRTOS-Kernel/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/freertos/FreeRTOS-Kernel/portable/xtensa/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/freertos/FreeRTOS-Kernel/portable/xtensa/include/freertos -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/freertos/esp_additions/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_hw_support/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_hw_support/include/soc -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_hw_support/include/soc/esp32s3 -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_hw_support/dma/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_hw_support/ldo/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_hw_support/debug_probe/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_hw_support/mspi_timing_tuning/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_hw_support/mspi_timing_tuning/tuning_scheme_impl/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_hw_support/power_supply/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_hw_support/port/esp32s3/. -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_hw_support/port/esp32s3/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/. -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_hw_support/mspi_timing_tuning/port/esp32s3/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/heap/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/heap/tlsf -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/log/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/soc/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/soc/esp32s3 -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/soc/esp32s3/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/soc/esp32s3/register -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/hal/platform_port/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/hal/esp32s3/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/hal/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_rom/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_rom/esp32s3/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_rom/esp32s3/include/esp32s3 -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_rom/esp32s3 -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_common/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_system/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_system/port/soc -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_system/port/include/private -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/xtensa/esp32s3/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/xtensa/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/xtensa/deprecated_include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_timer/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/lwip/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/lwip/include/apps -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/lwip/include/apps/sntp -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/lwip/lwip/src/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/lwip/port/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/lwip/port/freertos/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/lwip/port/esp32xx/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/lwip/port/esp32xx/include/arch -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/lwip/port/esp32xx/include/sys -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_http_server/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/http_parser -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_event/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_wifi/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_wifi/include/local -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_wifi/wifi_apps/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_wifi/wifi_apps/nan_app/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_phy/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_phy/esp32s3/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_netif/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/nvs_flash/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_partition/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/json/cJSON -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/wpa_supplicant/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/wpa_supplicant/port/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/wpa_supplicant/esp_supplicant/include -IC:/Espressif/frameworks/esp-idf-v5.5.2/components/esp_http_client/include -mlongcalls  -fno-builtin-memcpy -fno-builtin-memset -fno-builtin-bzero -fno-builtin-stpcpy -fno-builtin-strncpy -fdiagnostics-color=always -Wno-missing-field-initializers -fdiagnostics-color=always -ffunction-sections -fdata-sections -Wall -Werror=all -Wno-error=unused-function -Wno-error=unused-variable -Wno-error=unused-but-set-variable -Wno-error=deprecated-declarations -Wextra -Wno-error=extra -Wno-unused-parameter -Wno-sign-compare -Wno-enum-conversion -gdwarf-4 -ggdb -mdisable-hardware-atomics -Og -fno-shrink-wrap -fmacro-prefix-map=C:/Users/gs75/Desktop/xiaozhi_new/yxt_code=. -fmacro-prefix-map=C:/Espressif/frameworks/esp-idf-v5.5.2=/IDF -fstrict-volatile-bitfields -fno-jump-tables -fno-tree-switch-conversion -std=gnu++2b -fexceptions -fno-rtti -fuse-cxa-atexit -MD -MT esp-idf/78__esp-wifi-connect/CMakeFiles/__idf_78__esp-wifi-connect.dir/wifi_station.cc.obj -MF esp-idf\78__esp-wifi-connect\CMakeFiles\__idf_78__esp-wifi-connect.dir\wifi_station.cc.obj.d -o esp-idf/78__esp-wifi-connect/CMakeFiles/__idf_78__esp-wifi-connect.dir/wifi_station.cc.obj -c C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc
In file included from C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:9:
C:/Espressif/frameworks/esp-idf-v5.5.2/components/wpa_supplicant/esp_supplicant/include/esp_wpa2.h:10:74: note: '#pragma message: esp_wpa2.h is deprecated. Use esp_eap_client.h instead.'
   10 | #pragma message("esp_wpa2.h is deprecated. Use esp_eap_client.h instead.")
      |                                                                          ^
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc: In member function 'void WifiStation::StartConnect()':
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:249:43: warning: 'esp_err_t esp_wifi_sta_wpa2_ent_set_identity(const unsigned char*, int)' is deprecated: Use 'esp_eap_client_set_identity' instead [-Wdeprecated-declarations]
  249 |         esp_wifi_sta_wpa2_ent_set_identity((uint8_t *)ap_record.username.c_str(), ap_record.username.length());
      |         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
C:/Espressif/frameworks/esp-idf-v5.5.2/components/wpa_supplicant/esp_supplicant/include/esp_wpa2.h:65:11: note: declared here
   65 | esp_err_t esp_wifi_sta_wpa2_ent_set_identity(const unsigned char *identity, int len);
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:250:43: warning: 'esp_err_t esp_wifi_sta_wpa2_ent_set_username(const unsigned char*, int)' is deprecated: Use 'esp_eap_client_set_username' instead [-Wdeprecated-declarations]
  250 |         esp_wifi_sta_wpa2_ent_set_username((uint8_t *)ap_record.username.c_str(), ap_record.username.length());
      |         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
C:/Espressif/frameworks/esp-idf-v5.5.2/components/wpa_supplicant/esp_supplicant/include/esp_wpa2.h:92:11: note: declared here
   92 | esp_err_t esp_wifi_sta_wpa2_ent_set_username(const unsigned char *username, int len);
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:251:43: warning: 'esp_err_t esp_wifi_sta_wpa2_ent_set_password(const unsigned char*, int)' is deprecated: Use 'esp_eap_client_set_password' instead [-Wdeprecated-declarations]
  251 |         esp_wifi_sta_wpa2_ent_set_password((uint8_t *)ap_record.password.c_str(), ap_record.password.length());
      |         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
C:/Espressif/frameworks/esp-idf-v5.5.2/components/wpa_supplicant/esp_supplicant/include/esp_wpa2.h:118:11: note: declared here
  118 | esp_err_t esp_wifi_sta_wpa2_ent_set_password(const unsigned char *password, int len);
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:252:37: warning: 'esp_err_t esp_wifi_sta_wpa2_ent_enable()' is deprecated: Use 'esp_wifi_sta_enterprise_enable' instead [-Wdeprecated-declarations]
  252 |         esp_wifi_sta_wpa2_ent_enable();
      |         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
C:/Espressif/frameworks/esp-idf-v5.5.2/components/wpa_supplicant/esp_supplicant/include/esp_wpa2.h:31:11: note: declared here
   31 | esp_err_t esp_wifi_sta_wpa2_ent_enable(void);
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:254:38: warning: 'esp_err_t esp_wifi_sta_wpa2_ent_disable()' is deprecated: Use 'esp_wifi_sta_enterprise_disable' instead [-Wdeprecated-declarations]
  254 |         esp_wifi_sta_wpa2_ent_disable();
      |         ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~
C:/Espressif/frameworks/esp-idf-v5.5.2/components/wpa_supplicant/esp_supplicant/include/esp_wpa2.h:46:11: note: declared here
   46 | esp_err_t esp_wifi_sta_wpa2_ent_disable(void);
      |           ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc: In lambda function:
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:562:29: warning: unused variable 'content_len' [-Wunused-variable]
  562 |                         int content_len = esp_http_client_get_content_length(client);
      |                             ^~~~~~~~~~~
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:704:27: error: 'follow_status' was not declared in this scope
  704 |                       if (follow_status == 302 || follow_status == 301) {
      |                           ^~~~~~~~~~~~~
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc: In member function 'void WifiStation::StartPortalLogin(const std::string&, const std::string&)':
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:749:10: error: expected ')' before 'else'
  749 |         } else {
      |          ^~~~~
      |          )
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:449:16: note: to match this '('
  449 |     xTaskCreate([](void* arg) {
      |                ^
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:447:11: warning: unused variable 'ctx' [-Wunused-variable]
  447 |     auto* ctx = new LoginCtx{username, password};
      |           ^~~
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc: At global scope:
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:755:6: error: mixing declarations and function-definitions is forbidden
  755 |     }, "portal_login", 8192, ctx, 5, NULL);
      |      ^
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:755:8: error: expected unqualified-id before string constant
  755 |     }, "portal_login", 8192, ctx, 5, NULL);
      |        ^~~~~~~~~~~~~~
C:/Users/gs75/Desktop/xiaozhi_new/yxt_code/managed_components/78__esp-wifi-connect/wifi_station.cc:756:1: error: expected declaration before '}' token
  756 | }
      | ^
ninja: build stopped: subcommand failed.
